"use strict";(self.webpackChunkfirebaseapp=self.webpackChunkfirebaseapp||[]).push([[592],{1976:(P,h,e)=>{e.d(h,{c:()=>d});var t=e(5e3),_=e(2382),c=e(9808);function u(n,r){1&n&&(t.TgZ(0,"div",11),t._uU(1,"Invalid email format"),t.qZA())}function m(n,r){1&n&&(t.TgZ(0,"div",11),t._uU(1,"Password is required"),t.qZA())}const g=[[["h1"]],[["",8,"error"]],[["button"]],[["a"]]],v=["h1",".error","button","a"];let d=(()=>{class n{constructor(s){this.fb=s,this.submitted=new t.vpe,this.form=this.fb.group({email:["",[_.kI.email]],password:["",[_.kI.required]]})}ngOnInit(){}onSubmit(){this.form.valid&&this.submitted.emit(this.form)}get passwordInvalid(){const s=this.form.get("password");return(null==s?void 0:s.hasError("required"))&&s.touched}get emailInvalid(){const s=this.form.get("email");return(null==s?void 0:s.hasError("email"))&&s.touched}}return n.\u0275fac=function(s){return new(s||n)(t.Y36(_.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["auth-form"]],outputs:{submitted:"submitted"},ngContentSelectors:v,decls:20,vars:3,consts:[[1,"container"],[1,"m-auto","p-4","mt-5","h-100","wrapper",2,"width","25%",3,"formGroup","ngSubmit"],[1,"text-center"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","formControlName","email","id","email","aria-describedby","emailHelp",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","formControlName","password","id","password",1,"form-control"],[1,"footer-form"],[1,"link-btn"],[1,"alert","alert-danger"]],template:function(s,o){1&s&&(t.F$t(g),t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(2,"div",2),t.Hsn(3),t.qZA(),t.TgZ(4,"div",3)(5,"label",4),t._uU(6,"Email address"),t.qZA(),t._UZ(7,"input",5),t.YNc(8,u,2,0,"div",6),t.qZA(),t.TgZ(9,"div",3)(10,"label",7),t._uU(11,"Password"),t.qZA(),t._UZ(12,"input",8),t.YNc(13,m,2,0,"div",6),t.qZA(),t.Hsn(14,1),t.TgZ(15,"div",9)(16,"div"),t.Hsn(17,2),t.qZA(),t.TgZ(18,"div",10),t.Hsn(19,3),t.qZA()()()()),2&s&&(t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(7),t.Q6J("ngIf",o.emailInvalid),t.xp6(5),t.Q6J("ngIf",o.passwordInvalid))},directives:[_._Y,_.JL,_.sg,_.Fj,_.JJ,_.u,c.O5],styles:[".wrapper[_ngcontent-%COMP%]{border-radius:4px;background-color:#fcfcfc;box-shadow:0 0 1px 1px #00000017}.wrapper[_ngcontent-%COMP%]   .footer-form[_ngcontent-%COMP%]{text-align:center}.wrapper[_ngcontent-%COMP%]   .footer-form[_ngcontent-%COMP%]   .link-btn[_ngcontent-%COMP%]{margin-top:20px}"]}),n})()},307:(P,h,e)=>{e.d(h,{G:()=>n});var t=e(5e3),_=e(441),c=e(9808),u=e(1212);let m=(()=>{class r{transform(o,...i){return"endurance"===o.type?`Distance:${o.endurance.distance+"km"}, Duration: ${o.endurance.duration+"mins"}`:`Weight:${o.strength.weight+"kg"}, Reps: ${o.strength.reps}, Sets: ${o.strength.sets}`}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275pipe=t.Yjl({name:"workout",type:r,pure:!0}),r})();function g(r,s){if(1&r&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"join"),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,o.item.ingredients)," ")}}function v(r,s){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"workout"),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,o.item))}}function d(r,s){if(1&r){const o=t.EpF();t.TgZ(0,"div")(1,"div",7)(2,"div",8),t._uU(3," Are you sure you want to delete this? "),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"button",9),t.NdJ("click",function(){return t.CHM(o),t.oxw().removeItem()}),t._uU(6,"Yes"),t.qZA(),t.TgZ(7,"button",10),t.NdJ("click",function(){return t.CHM(o),t.oxw().toggle()}),t._uU(8,"No"),t.qZA()()()}}let n=(()=>{class r{constructor(){this.toggled=!1,this.remove=new t.vpe}getRoute(o){return["../"+(o.ingredients?"meals":"workouts"),o.$key]}removeItem(){this.remove.emit(this.item)}toggle(){this.toggled=!this.toggled}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["list-item"]],inputs:{item:"item"},outputs:{remove:"remove"},decls:10,vars:5,consts:[[1,"list-group"],[1,"list-group-item","list-group-item-action"],[3,"routerLink"],[4,"ngIf","ngIfElse"],["workout",""],[4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],[1,"my-4","confirm-dialog","alert","alert-info"],[1,"mb-1"],["type","button",1,"btn","btn-danger","me-3","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"p",2),t._uU(3),t.qZA(),t.YNc(4,g,3,3,"p",3),t.YNc(5,v,3,3,"ng-template",null,4,t.W1O),t.YNc(7,d,9,0,"div",5),t.TgZ(8,"button",6),t.NdJ("click",function(){return i.toggle()}),t._uU(9,"Delete"),t.qZA()()()),2&o){const p=t.MAs(6);t.xp6(2),t.Q6J("routerLink",i.getRoute(i.item)),t.xp6(1),t.hij(" ",i.item.name," "),t.xp6(1),t.Q6J("ngIf",i.item.ingredients)("ngIfElse",p),t.xp6(3),t.Q6J("ngIf",i.toggled)}},directives:[_.rH,c.O5],pipes:[u.A,m],styles:[".confirm-dialog[_ngcontent-%COMP%]{background:#ebe2e2;padding:20px 15px;border-radius:5px}"],changeDetection:0}),r})()},1212:(P,h,e)=>{e.d(h,{A:()=>_});var t=e(5e3);let _=(()=>{class c{transform(m,...g){return Array.isArray(m)?m.join(", "):m}}return c.\u0275fac=function(m){return new(m||c)},c.\u0275pipe=t.Yjl({name:"join",type:c,pure:!0}),c})()},4847:(P,h,e)=>{e.d(h,{Q:()=>d});var t=e(4004),_=e(9646),c=e(9300),u=e(5e3),m=e(7078),g=e(6209),v=e(1903);let d=(()=>{class n{constructor(s,o,i){this.store=s,this.authService=o,this.db=i,this.id="",this.authService.userId.then(p=>{this.id=p;let l=[];this.mealRef=this.db.list(`meals/${p}/items`),this.meals$=this.mealRef.snapshotChanges().pipe((0,t.U)(M=>{l=M.map(f=>Object.assign({$key:f.key},f.payload.val())),this.store.set("meals",l)}))})}addMeal(s){return console.log("addMeal",this.id),this.db.list(`meals/${this.id}/items`).push(s)}removeMeal(s){return this.db.list(`meals/${this.id}/items`).remove(s.$key)}updateMeal(s,o){return this.db.object(`meals/${this.id}/items/${s}`).update(o)}getMeal(s){return s?this.store.select("meals").pipe((0,c.h)(Boolean)).pipe((0,t.U)(o=>o.find(i=>i.$key===s))):(0,_.of)({})}}return n.\u0275fac=function(s){return new(s||n)(u.LFG(m.y),u.LFG(g.e),u.LFG(v.KQ))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})()},8050:(P,h,e)=>{e.d(h,{u:()=>o});var t=e(5861),_=e(7579),c=e(4004),u=e(8505),m=e(1365),g=e(1135),v=e(3900),d=e(5e3),n=e(7078),r=e(1903),s=e(6209);let o=(()=>{class i{constructor(l,M,f){this.store=l,this.db=M,this.authService=f,this.section$=new _.x,this.itemList$=new _.x,this.selected$=this.section$.pipe((0,c.U)(a=>this.store.value[a.type])).pipe((0,u.b)(a=>this.store.set("selected",a))),this.list$=this.section$.pipe((0,u.b)(a=>this.store.set("list",a))),this.items$=this.section$.pipe((0,m.M)(this.section$)).pipe((0,c.U)(([a,E])=>{const O=E.data.$key,A={workouts:[],meals:[],section:E.section,timestamp:new Date(E.day).getTime()},D=Object.assign(Object.assign({},O?E.data:A),a);return O?this.updateSection(O,D):this.createSection(D)})),this.date$=new g.X(new Date),this.schedule$=this.date$.pipe((0,u.b)(a=>this.store.set("date",a))).pipe((0,c.U)(a=>({startAt:new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime(),endAt:new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime()-1}))).pipe((0,v.w)(({startAt:a,endAt:E})=>this.getSchedule(a,E))).pipe((0,c.U)(a=>{console.log(a);const E={};for(const O of a)E[O.section]||(E["prop.section"]=O);return E})).pipe((0,u.b)(a=>this.store.set("schedule",a))),this.authService.userId.then(a=>{this.id=a})}updateDate(l){this.date$.next(l)}getSchedule(l,M){var f=this;return(0,t.Z)(function*(){return yield f.db.list(`schedule/${f.id}/items`).query.orderByChild("requestTimeStemp").startAt(l).endAt(M).toJSON()})()}selectSection(l){this.section$.next(l)}updateItems(l){this.itemList$.next(l)}updateSection(l,M){return this.db.object(`schdule/${this.id}/items/${l}`).update(M)}createSection(l){return this.db.list(`schedule/${this.id}/items`).push(l)}}return i.\u0275fac=function(l){return new(l||i)(d.LFG(n.y),d.LFG(r.KQ),d.LFG(s.e))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})()},7955:(P,h,e)=>{e.d(h,{$:()=>d});var t=e(4004),_=e(9646),c=e(9300),u=e(5e3),m=e(7078),g=e(6209),v=e(1903);let d=(()=>{class n{constructor(s,o,i){this.store=s,this.authService=o,this.db=i,this.id="",this.authService.userId.then(p=>{this.id=p;let l=[];this.workouts=this.db.list(`workouts/${p}/items`),this.workouts$=this.workouts.snapshotChanges().pipe((0,t.U)(M=>{l=M.map(f=>Object.assign({$key:f.key},f.payload.val())),this.store.set("workouts",l)}))})}addWorkout(s){return this.db.list(`workouts/${this.id}/items`).push(s)}removeWorkout(s){return this.db.list(`workouts/${this.id}/items`).remove(s.$key)}updateWorkout(s,o){return this.db.object(`workouts/${this.id}/items/${s}`).update(o)}getWorkout(s){return s?this.store.select("workouts").pipe((0,c.h)(Boolean)).pipe((0,t.U)(o=>o.find(i=>i.$key===s))):(0,_.of)({})}}return n.\u0275fac=function(s){return new(s||n)(u.LFG(m.y),u.LFG(g.e),u.LFG(v.KQ))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})()},4774:(P,h,e)=>{e.d(h,{m:()=>s});var t=e(8050),_=e(7955),c=e(441),u=e(9808),m=e(1205),g=e(1903),v=e(7407),d=e(2084),n=e(4847),r=e(5e3);let s=(()=>{class o{static forRoot(){return{ngModule:o,providers:[n.Q,_.$,t.u]}}}return o.\u0275fac=function(p){return new(p||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[[u.ez,m.ww,v.yb,d.TE,g.JS,c.Bz]]}),o})()}}]);